{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/loel/Documents/loel-blog/src/styles/Collapse/index.tsx\";\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useRef, useState, useEffect } from \"react\";\nimport styled from \"styles/styled\";\n\nconst Collapse = ({\n  active,\n  accordion,\n  children\n}) => {\n  const {\n    0: activeIndex,\n    1: setActiveIndex\n  } = useState(active ? active : accordion ? 0 : []);\n\n  const showContent = index => {\n    if (accordion) {\n      setActiveIndex(index);\n    } else {\n      let temp;\n\n      if (activeIndex.includes(index)) {\n        temp = activeIndex.filter(item => item !== index);\n      } else {\n        temp = activeIndex.concat(index);\n      }\n\n      setActiveIndex(temp);\n    }\n  };\n\n  const childrenWithProps = React.Children.map(children, (child, index) => {\n    if ((child === null || child === void 0 ? void 0 : child.type) === Panel) {\n      return /*#__PURE__*/React.cloneElement(child, {\n        showContent,\n        index,\n        isActive: accordion ? index === activeIndex : activeIndex.includes(index)\n      });\n    } else {\n      throw new Error(\"패널 컴포넌트를 넣어주세요.\");\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: childrenWithProps\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 10\n  }, this);\n};\n\nexport default Collapse;\nexport const Panel = (_ref) => {\n  let {\n    title,\n    children\n  } = _ref,\n      rest = _objectWithoutProperties(_ref, [\"title\", \"children\"]);\n\n  const {\n    showContent,\n    index,\n    isActive\n  } = rest;\n  const ref = useRef(null);\n  const {\n    0: height,\n    1: setHeight\n  } = useState(0);\n  useEffect(() => {\n    if (ref.current) {\n      setHeight(ref.current.scrollHeight);\n    }\n  }, [ref]);\n  return /*#__PURE__*/_jsxDEV(Wrap, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      index: index,\n      onClick: () => showContent(index),\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), ref && /*#__PURE__*/_jsxDEV(ContentWrap, {\n      active: isActive,\n      ref: ref,\n      height: height,\n      children: /*#__PURE__*/_jsxDEV(Content, {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\nconst Container = styled.div`\n  width: 100%;\n  border: 1px solid #e6e6e6;\n  border-radius: 2px;\n`;\nconst Wrap = styled.div`\n  width: 100%;\n`;\nconst Header = styled.div`\n  padding: 1rem;\n  color: #000;\n  background-color: #ddd;\n  ${p => p.index === 0 && \"border-top-left-radius: 4px; border-top-right-radius: 4px;\"}\n  cursor: pointer;\n`;\nconst ContentWrap = styled.div`\n  padding: 0 1rem;\n  height: ${p => p.active ? p.height : \"0\"}px;\n  background-color: #fff;\n  overflow: hidden;\n  transition: height 0.2s ease-out;\n`;\nconst Content = styled.p`\n  margin: 1rem 0;\n`;","map":{"version":3,"sources":["/Users/loel/Documents/loel-blog/src/styles/Collapse/index.tsx"],"names":["React","useRef","useState","useEffect","styled","Collapse","active","accordion","children","activeIndex","setActiveIndex","showContent","index","temp","includes","filter","item","concat","childrenWithProps","Children","map","child","type","Panel","cloneElement","isActive","Error","title","rest","ref","height","setHeight","current","scrollHeight","Container","div","Wrap","Header","p","ContentWrap","Content"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport styled from \"styles/styled\";\n\ninterface ICollapse {\n  active?: number | number[];\n  accordion?: boolean;\n  children: React.ReactNode;\n}\n\ninterface ICollapseProps {\n  index: number;\n  showContent: (index: number) => void;\n  isActive: boolean;\n}\n\ninterface ICollapsePanel {\n  title: string;\n  children: React.ReactNode;\n}\n\nconst Collapse: React.FC<ICollapse> = ({ active, accordion, children }) => {\n  const [activeIndex, setActiveIndex] = useState<number | number[]>(active ? active : accordion ? 0 : []);\n\n  const showContent = (index: number) => {\n    if (accordion) {\n      setActiveIndex(index);\n    } else {\n      let temp;\n      if ((activeIndex as number[]).includes(index)) {\n        temp = (activeIndex as number[]).filter((item) => item !== index);\n      } else {\n        temp = (activeIndex as number[]).concat(index);\n      }\n      setActiveIndex(temp);\n    }\n  };\n\n  const childrenWithProps = React.Children.map(children, (child, index) => {\n    if ((child as React.ReactElement)?.type === Panel) {\n      return React.cloneElement(child as React.ReactElement, {\n        showContent,\n        index,\n        isActive: accordion ? index === activeIndex : (activeIndex as number[]).includes(index),\n      });\n    } else {\n      throw new Error(\"패널 컴포넌트를 넣어주세요.\");\n    }\n  });\n\n  return <Container>{childrenWithProps}</Container>;\n};\n\nexport default Collapse;\n\nexport const Panel: React.FC<ICollapsePanel> = ({ title, children, ...rest }) => {\n  const { showContent, index, isActive } = rest as ICollapseProps;\n  const ref = useRef<HTMLDivElement | null>(null);\n  const [height, setHeight] = useState<number>(0);\n\n  useEffect(() => {\n    if (ref.current) {\n      setHeight(ref.current.scrollHeight);\n    }\n  }, [ref]);\n\n  return (\n    <Wrap>\n      <Header index={index} onClick={() => showContent(index)}>\n        {title}\n      </Header>\n      {ref && (\n        <ContentWrap active={isActive} ref={ref} height={height}>\n          <Content>{children}</Content>\n        </ContentWrap>\n      )}\n    </Wrap>\n  );\n};\n\nconst Container = styled.div`\n  width: 100%;\n  border: 1px solid #e6e6e6;\n  border-radius: 2px;\n`;\n\nconst Wrap = styled.div`\n  width: 100%;\n`;\n\nconst Header = styled.div<{ index: number }>`\n  padding: 1rem;\n  color: #000;\n  background-color: #ddd;\n  ${(p) => p.index === 0 && \"border-top-left-radius: 4px; border-top-right-radius: 4px;\"}\n  cursor: pointer;\n`;\n\nconst ContentWrap = styled.div<{ active: boolean; height: number }>`\n  padding: 0 1rem;\n  height: ${(p) => (p.active ? p.height : \"0\")}px;\n  background-color: #fff;\n  overflow: hidden;\n  transition: height 0.2s ease-out;\n`;\n\nconst Content = styled.p`\n  margin: 1rem 0;\n`;\n"]},"metadata":{},"sourceType":"module"}
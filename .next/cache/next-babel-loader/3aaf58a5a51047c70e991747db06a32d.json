{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/loel/Documents/loel-blog/src/layouts/Header.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction _templateObject20() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-left: 0.5rem;\\n  font-weight: 500;\\n  color: #3469d3;\\n  cursor: pointer;\\n\\n  :hover {\\n    text-decoration: underline;\\n  }\\n\"]);\n\n  _templateObject20 = function _templateObject20() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject19() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  padding: 1rem 1.5rem;\\n\"]);\n\n  _templateObject19 = function _templateObject19() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject18() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  margin-top: 1rem;\\n\"]);\n\n  _templateObject18 = function _templateObject18() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject17() {\n  var data = _taggedTemplateLiteral([\"\\n  margin: 0;\\n  padding: 1rem 1rem;\\n  width: 100%;\\n  border: 1px solid #e7e7e7;\\n  border-radius: 4px;\\n\"]);\n\n  _templateObject17 = function _templateObject17() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject16() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 0.5rem 0;\\n\"]);\n\n  _templateObject16 = function _templateObject16() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject15() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  padding: 1.5rem;\\n  border-bottom: 1px solid #e7e7e7;\\n\"]);\n\n  _templateObject15 = function _templateObject15() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject14() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  right: 1rem;\\n  display: inline-flex;\\n  cursor: pointer;\\n\"]);\n\n  _templateObject14 = function _templateObject14() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject13() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 4rem;\\n  font-size: 1.25rem;\\n  font-weight: 600;\\n  color: #313131;\\n  border-bottom: 1px solid #e7e7e7;\\n\"]);\n\n  _templateObject13 = function _templateObject13() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject12() {\n  var data = _taggedTemplateLiteral([\"\\n  position: fixed;\\n  top: 50%;\\n  left: calc(50% - 20px);\\n  display: flex;\\n  flex-direction: column;\\n  margin: 0 20px;\\n  width: 80%;\\n  max-width: 568px;\\n  max-height: 100%;\\n  color: #000;\\n  background-color: #fff;\\n  border-radius: 12px;\\n  box-shadow: rgba(0, 0, 0, 0.28) 0 8px 28px;\\n  transform: translate(-50%, -50%);\\n  z-index: 15;\\n\"]);\n\n  _templateObject12 = function _templateObject12() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject11() {\n  var data = _taggedTemplateLiteral([\"\\n  position: fixed;\\n  inset: 0;\\n  z-index: 10;\\n  background: rgba(0, 0, 0, 0.5);\\n\"]);\n\n  _templateObject11 = function _templateObject11() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  width: 10px;\\n  height: 10px;\\n  opacity: 0;\\n  cursor: none;\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  padding: 12px;\\n  font-size: 1rem;\\n  user-select: none;\\n\\n  ::before {\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: 0;\\n    right: -3px;\\n    bottom: 0;\\n    left: -3px;\\n    border-radius: 22px;\\n  }\\n\\n  :hover::before {\\n    \", \";\\n  }\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  flex: 1 0 auto;\\n  display: flex;\\n  justify-content: flex-end;\\n  align-items: center;\\n  z-index: 1;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  flex: 1 0 200px;\\n  display: flex;\\n  align-items: center;\\n  z-index: 1;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  flex: 1 0 140px;\\n  display: flex;\\n  justify-content: flex-start;\\n  align-items: center;\\n  z-index: 1;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  max-width: 1440px;\\n  width: 100%;\\n  height: 100%;\\n  margin: 0 auto;\\n  padding: 0 80px;\\n  font-weight: 400;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  position: \", \";\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 80px;\\n  \", \"\\n  color: \", \";\\n  border-bottom: \", \";\\n  box-shadow: \", \";\\n  z-index: 100;\\n\\n  ::before {\\n    background-image: \", \";\\n    content: \\\"\\\";\\n    height: 140%;\\n    left: 50%;\\n    pointer-events: none;\\n    position: absolute;\\n    top: 0;\\n    max-width: 1440px;\\n    width: 100%;\\n    z-index: 0;\\n    transform: translateX(-50%);\\n    transition: 150ms opacity ease;\\n    opacity: \", \";\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  background-color: #fff;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styles/styled\";\nimport { css } from \"@emotion/core\";\nimport { Close } from \"styles/Icon\";\nimport { Button } from \"styles\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { LOGIN, REGISTER } from \"@api/User\";\nimport cookie from \"js-cookie\";\nvar menus = [{\n  label: \"Home\",\n  link: \"/\"\n}, {\n  label: \"Edit\",\n  link: \"/edit\",\n  authority: true\n}, {\n  label: \"Menu\",\n  link: \"#\",\n  authority: true\n}, {\n  label: \"Guide\",\n  link: \"/guide\",\n  authority: true\n}, {\n  label: \"Setting\",\n  link: \"/setting\",\n  authority: true\n}];\n\nvar Header = function Header(_ref) {\n  _s();\n\n  var authority = _ref.authority,\n      authenticated = _ref.authenticated;\n\n  var _useState = useState(true),\n      isTop = _useState[0],\n      setIsTop = _useState[1];\n\n  var _useState2 = useState(false),\n      loginModal = _useState2[0],\n      setLoginModal = _useState2[1];\n\n  var _useState3 = useState(false),\n      registerModal = _useState3[0],\n      setRegisterModal = _useState3[1];\n\n  var _useState4 = useState({\n    email: \"\",\n    password: \"\"\n  }),\n      loginInput = _useState4[0],\n      setLoginInput = _useState4[1];\n\n  var _useState5 = useState({\n    email: \"\",\n    name: \"\",\n    password: \"\"\n  }),\n      registerInput = _useState5[0],\n      setRegisterInput = _useState5[1];\n\n  var _useMutation = useMutation(LOGIN, {\n    onCompleted: function onCompleted(data) {\n      cookie.set(\"accessToken\", data.login.token);\n      localStorage.setItem(\"user\", JSON.stringify({\n        email: data.login.email,\n        name: data.login.name\n      }));\n      authenticated(true);\n      setLoginModal(false);\n    }\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      LoginMutation = _useMutation2[0];\n\n  var _useMutation3 = useMutation(REGISTER, {\n    onCompleted: function onCompleted() {\n      setLoginModal(true);\n      setRegisterModal(false);\n    }\n  }),\n      _useMutation4 = _slicedToArray(_useMutation3, 1),\n      RegisterMutation = _useMutation4[0];\n\n  useEffect(function () {\n    var token = cookie.get(\"accessToken\");\n\n    if (token) {\n      authenticated(true);\n    }\n  }, [authority]);\n\n  var handleLoginModal = function handleLoginModal() {\n    setLoginModal(false);\n  };\n\n  var handleRegisterModal = function handleRegisterModal() {\n    if (loginModal && !registerModal) {\n      setLoginModal(false);\n      setRegisterModal(true);\n    } else {\n      setRegisterModal(false);\n    }\n  };\n\n  var changeToRegisterModal = function changeToRegisterModal() {\n    setLoginModal(false);\n    setRegisterModal(true);\n  };\n\n  var changeToLoginModal = function changeToLoginModal() {\n    setRegisterModal(false);\n    setLoginModal(true);\n  };\n\n  var handleLoginInput = function handleLoginInput(event) {\n    setLoginInput(_objectSpread(_objectSpread({}, loginInput), {}, _defineProperty({}, event.target.name, event.target.value)));\n  };\n\n  var handleRegisterInput = function handleRegisterInput(event) {\n    setRegisterInput(_objectSpread(_objectSpread({}, registerInput), {}, _defineProperty({}, event.target.name, event.target.value)));\n  };\n\n  var login = function login() {\n    LoginMutation({\n      variables: {\n        loginInput: loginInput\n      }\n    });\n  };\n\n  var enterLogin = function enterLogin(event) {\n    if (event.key === \"Enter\") {\n      login();\n    }\n  };\n\n  var register = function register() {\n    RegisterMutation({\n      variables: {\n        registerInput: registerInput\n      }\n    });\n  };\n\n  useEffect(function () {\n    function isTopZero() {\n      if (window.scrollY === 0) {\n        setIsTop(true);\n      } else {\n        setIsTop(false);\n      }\n    }\n\n    window.addEventListener(\"scroll\", isTopZero);\n    window.addEventListener(\"load\", isTopZero);\n    return function () {\n      window.removeEventListener(\"scroll\", isTopZero);\n      window.removeEventListener(\"load\", isTopZero);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(HeaderContainer, {\n    isTop: isTop,\n    children: [/*#__PURE__*/_jsxDEV(HeaderContentsWrap, {\n      children: [/*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Center, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Menus, {\n        children: menus.map(function (item, index) {\n          if (authority) {\n            return /*#__PURE__*/_jsxDEV(Menu, {\n              isTop: isTop,\n              href: item.link,\n              children: /*#__PURE__*/_jsxDEV(MenuName, {\n                children: item.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 19\n              }, _this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 17\n            }, _this);\n          } else {\n            if (!item.authority) {\n              return /*#__PURE__*/_jsxDEV(Menu, {\n                isTop: isTop,\n                href: item.link,\n                children: /*#__PURE__*/_jsxDEV(MenuName, {\n                  children: item.label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 21\n                }, _this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 19\n              }, _this);\n            }\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, _this), !authority && /*#__PURE__*/_jsxDEV(ModalButton, {\n      onClick: function onClick() {\n        return setLoginModal(true);\n      },\n      children: \"\\uBC84\\uD2BC\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 22\n    }, _this), loginModal && /*#__PURE__*/_jsxDEV(LoginModalContainer, {\n      children: [/*#__PURE__*/_jsxDEV(DarkLayer, {\n        onClick: handleLoginModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(LoginModal, {\n        children: [/*#__PURE__*/_jsxDEV(LoginModalHeader, {\n          children: [\"\\uB85C\\uADF8\\uC778\", /*#__PURE__*/_jsxDEV(CloseButton, {\n            onClick: handleLoginModal,\n            children: /*#__PURE__*/_jsxDEV(Close, {\n              width: 20,\n              height: 20,\n              color: \"#313131\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(LoginModalBody, {\n          children: [/*#__PURE__*/_jsxDEV(LoginInputWrap, {\n            children: /*#__PURE__*/_jsxDEV(LoginInput, {\n              name: \"email\",\n              placeholder: \"이메일\",\n              onChange: handleLoginInput\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(LoginInputWrap, {\n            children: /*#__PURE__*/_jsxDEV(LoginInput, {\n              name: \"password\",\n              type: \"password\",\n              placeholder: \"비밀번호\",\n              onChange: handleLoginInput,\n              onKeyPress: enterLogin\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(LoginButtonWrap, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              width: \"100%\",\n              height: 48,\n              variant: \"danger\",\n              onClick: login,\n              children: \"\\uB85C\\uADF8\\uC778\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(LoginModalFooter, {\n          children: [\"\\uACC4\\uC815\\uC774 \\uC5C6\\uB2E4\\uBA74? \", /*#__PURE__*/_jsxDEV(Register, {\n            onClick: changeToRegisterModal,\n            children: \"\\uD68C\\uC6D0\\uB4F1\\uB85D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 24\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }, _this), registerModal && /*#__PURE__*/_jsxDEV(LoginModalContainer, {\n      children: [/*#__PURE__*/_jsxDEV(DarkLayer, {\n        onClick: handleRegisterModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(LoginModal, {\n        children: [/*#__PURE__*/_jsxDEV(LoginModalHeader, {\n          children: [\"\\uD68C\\uC6D0\\uB4F1\\uB85D\", /*#__PURE__*/_jsxDEV(CloseButton, {\n            onClick: handleRegisterModal,\n            children: /*#__PURE__*/_jsxDEV(Close, {\n              width: 20,\n              height: 20,\n              color: \"#313131\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(LoginModalBody, {\n          children: [/*#__PURE__*/_jsxDEV(LoginInputWrap, {\n            children: /*#__PURE__*/_jsxDEV(LoginInput, {\n              name: \"email\",\n              placeholder: \"이메일\",\n              onChange: handleRegisterInput\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(LoginInputWrap, {\n            children: /*#__PURE__*/_jsxDEV(LoginInput, {\n              name: \"name\",\n              placeholder: \"이름\",\n              onChange: handleRegisterInput\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(LoginInputWrap, {\n            children: /*#__PURE__*/_jsxDEV(LoginInput, {\n              name: \"password\",\n              type: \"password\",\n              placeholder: \"비밀번호\",\n              onChange: handleRegisterInput\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(LoginButtonWrap, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              width: \"100%\",\n              height: 48,\n              variant: \"danger\",\n              onClick: register,\n              children: \"\\uD68C\\uC6D0\\uB4F1\\uB85D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(LoginModalFooter, {\n          children: /*#__PURE__*/_jsxDEV(Register, {\n            onClick: changeToLoginModal,\n            children: \"\\uB85C\\uADF8\\uC778\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Header, \"o0qp+e6xkOndlKy7czcPmBeup2Y=\", false, function () {\n  return [useMutation, useMutation];\n});\n\n_c = Header;\nexport default Header;\nvar WhiteBackground = css(_templateObject());\nvar HeaderContainer = styled.header(_templateObject2(), function (p) {\n  return p.isTop ? \"absolute\" : \"fixed\";\n}, function (p) {\n  return !p.isTop && WhiteBackground;\n}, function (p) {\n  return p.isTop ? \"#fff\" : \"#000\";\n}, function (p) {\n  return !p.isTop && \"1px solid #eee\";\n}, function (p) {\n  return !p.isTop && \"rgba(0, 0, 0, 0.08) 0px 1px 12px\";\n}, function (p) {\n  return p.isTop ? \"linear-gradient(to bottom, #000, rgba(0, 0, 0, 0))\" : \"linear-gradient(rgb(0, 0, 0), rgba(0, 0, 0, 0))\";\n}, function (p) {\n  return p.isTop ? \"0.4\" : \"0\";\n});\n_c2 = HeaderContainer;\nvar HeaderContentsWrap = styled.div(_templateObject3());\n_c3 = HeaderContentsWrap;\nvar Logo = styled.div(_templateObject4());\n_c4 = Logo;\nvar Center = styled.div(_templateObject5());\n_c5 = Center;\nvar Menus = styled.nav(_templateObject6());\n_c6 = Menus;\nvar Menu = styled.a(_templateObject7(), function (p) {\n  return p.isTop ? \"background: rgba(255, 255, 255, 0.15)\" : \"background: rgb(247, 247, 247)\";\n});\n_c7 = Menu;\nvar MenuName = styled.div(_templateObject8());\n_c8 = MenuName;\nvar ModalButton = styled.button(_templateObject9());\n_c9 = ModalButton;\nvar LoginModalContainer = styled.div(_templateObject10());\n_c10 = LoginModalContainer;\nvar DarkLayer = styled.div(_templateObject11());\n_c11 = DarkLayer;\nvar LoginModal = styled.div(_templateObject12());\n_c12 = LoginModal;\nvar LoginModalHeader = styled.div(_templateObject13());\n_c13 = LoginModalHeader;\nvar CloseButton = styled.div(_templateObject14());\n_c14 = CloseButton;\nvar LoginModalBody = styled.div(_templateObject15());\n_c15 = LoginModalBody;\nvar LoginInputWrap = styled.div(_templateObject16());\n_c16 = LoginInputWrap;\nvar LoginInput = styled.input(_templateObject17());\n_c17 = LoginInput;\nvar LoginButtonWrap = styled.div(_templateObject18());\n_c18 = LoginButtonWrap;\nvar LoginModalFooter = styled.div(_templateObject19());\n_c19 = LoginModalFooter;\nvar Register = styled.span(_templateObject20());\n_c20 = Register;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20;\n\n$RefreshReg$(_c, \"Header\");\n$RefreshReg$(_c2, \"HeaderContainer\");\n$RefreshReg$(_c3, \"HeaderContentsWrap\");\n$RefreshReg$(_c4, \"Logo\");\n$RefreshReg$(_c5, \"Center\");\n$RefreshReg$(_c6, \"Menus\");\n$RefreshReg$(_c7, \"Menu\");\n$RefreshReg$(_c8, \"MenuName\");\n$RefreshReg$(_c9, \"ModalButton\");\n$RefreshReg$(_c10, \"LoginModalContainer\");\n$RefreshReg$(_c11, \"DarkLayer\");\n$RefreshReg$(_c12, \"LoginModal\");\n$RefreshReg$(_c13, \"LoginModalHeader\");\n$RefreshReg$(_c14, \"CloseButton\");\n$RefreshReg$(_c15, \"LoginModalBody\");\n$RefreshReg$(_c16, \"LoginInputWrap\");\n$RefreshReg$(_c17, \"LoginInput\");\n$RefreshReg$(_c18, \"LoginButtonWrap\");\n$RefreshReg$(_c19, \"LoginModalFooter\");\n$RefreshReg$(_c20, \"Register\");","map":{"version":3,"sources":["/Users/loel/Documents/loel-blog/src/layouts/Header.tsx"],"names":["React","useEffect","useState","styled","css","Close","Button","useMutation","LOGIN","REGISTER","cookie","menus","label","link","authority","Header","authenticated","isTop","setIsTop","loginModal","setLoginModal","registerModal","setRegisterModal","email","password","loginInput","setLoginInput","name","registerInput","setRegisterInput","onCompleted","data","set","login","token","localStorage","setItem","JSON","stringify","LoginMutation","RegisterMutation","get","handleLoginModal","handleRegisterModal","changeToRegisterModal","changeToLoginModal","handleLoginInput","event","target","value","handleRegisterInput","variables","enterLogin","key","register","isTopZero","window","scrollY","addEventListener","removeEventListener","map","item","index","WhiteBackground","HeaderContainer","header","p","HeaderContentsWrap","div","Logo","Center","Menus","nav","Menu","a","MenuName","ModalButton","button","LoginModalContainer","DarkLayer","LoginModal","LoginModalHeader","CloseButton","LoginModalBody","LoginInputWrap","LoginInput","input","LoginButtonWrap","LoginModalFooter","Register","span"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,SAASC,GAAT,QAAoB,eAApB;AACA,SAASC,KAAT,QAAsB,aAAtB;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,WAAhC;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEA,IAAMC,KAA6D,GAAG,CACpE;AAAEC,EAAAA,KAAK,EAAE,MAAT;AAAiBC,EAAAA,IAAI,EAAE;AAAvB,CADoE,EAEpE;AAAED,EAAAA,KAAK,EAAE,MAAT;AAAiBC,EAAAA,IAAI,EAAE,OAAvB;AAAgCC,EAAAA,SAAS,EAAE;AAA3C,CAFoE,EAGpE;AAAEF,EAAAA,KAAK,EAAE,MAAT;AAAiBC,EAAAA,IAAI,EAAE,GAAvB;AAA4BC,EAAAA,SAAS,EAAE;AAAvC,CAHoE,EAIpE;AAAEF,EAAAA,KAAK,EAAE,OAAT;AAAkBC,EAAAA,IAAI,EAAE,QAAxB;AAAkCC,EAAAA,SAAS,EAAE;AAA7C,CAJoE,EAKpE;AAAEF,EAAAA,KAAK,EAAE,SAAT;AAAoBC,EAAAA,IAAI,EAAE,UAA1B;AAAsCC,EAAAA,SAAS,EAAE;AAAjD,CALoE,CAAtE;;AAQA,IAAMC,MAA6B,GAAG,SAAhCA,MAAgC,OAAkC;AAAA;;AAAA,MAA/BD,SAA+B,QAA/BA,SAA+B;AAAA,MAApBE,aAAoB,QAApBA,aAAoB;;AAAA,kBAC5Cd,QAAQ,CAAU,IAAV,CADoC;AAAA,MAC/De,KAD+D;AAAA,MACxDC,QADwD;;AAAA,mBAElChB,QAAQ,CAAU,KAAV,CAF0B;AAAA,MAE/DiB,UAF+D;AAAA,MAEnDC,aAFmD;;AAAA,mBAG5BlB,QAAQ,CAAU,KAAV,CAHoB;AAAA,MAG/DmB,aAH+D;AAAA,MAGhDC,gBAHgD;;AAAA,mBAIlCpB,QAAQ,CAAC;AAAEqB,IAAAA,KAAK,EAAE,EAAT;AAAaC,IAAAA,QAAQ,EAAE;AAAvB,GAAD,CAJ0B;AAAA,MAI/DC,UAJ+D;AAAA,MAInDC,aAJmD;;AAAA,mBAK5BxB,QAAQ,CAAC;AAAEqB,IAAAA,KAAK,EAAE,EAAT;AAAaI,IAAAA,IAAI,EAAE,EAAnB;AAAuBH,IAAAA,QAAQ,EAAE;AAAjC,GAAD,CALoB;AAAA,MAK/DI,aAL+D;AAAA,MAKhDC,gBALgD;;AAAA,qBAO9CtB,WAAW,CAACC,KAAD,EAAQ;AACzCsB,IAAAA,WAAW,EAAE,qBAACC,IAAD,EAAU;AACrBrB,MAAAA,MAAM,CAACsB,GAAP,CAAW,aAAX,EAA0BD,IAAI,CAACE,KAAL,CAAWC,KAArC;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAe;AAAEf,QAAAA,KAAK,EAAEQ,IAAI,CAACE,KAAL,CAAWV,KAApB;AAA2BI,QAAAA,IAAI,EAAEI,IAAI,CAACE,KAAL,CAAWN;AAA5C,OAAf,CAA7B;AACAX,MAAAA,aAAa,CAAC,IAAD,CAAb;AACAI,MAAAA,aAAa,CAAC,KAAD,CAAb;AACD;AANwC,GAAR,CAPmC;AAAA;AAAA,MAO/DmB,aAP+D;;AAAA,sBAgB3ChC,WAAW,CAACE,QAAD,EAAW;AAC/CqB,IAAAA,WAAW,EAAE,uBAAM;AACjBV,MAAAA,aAAa,CAAC,IAAD,CAAb;AACAE,MAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACD;AAJ8C,GAAX,CAhBgC;AAAA;AAAA,MAgB/DkB,gBAhB+D;;AAuBtEvC,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMiC,KAAK,GAAGxB,MAAM,CAAC+B,GAAP,CAAW,aAAX,CAAd;;AACA,QAAIP,KAAJ,EAAW;AACTlB,MAAAA,aAAa,CAAC,IAAD,CAAb;AACD;AACF,GALQ,EAKN,CAACF,SAAD,CALM,CAAT;;AAOA,MAAM4B,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7BtB,IAAAA,aAAa,CAAC,KAAD,CAAb;AACD,GAFD;;AAIA,MAAMuB,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;AAChC,QAAIxB,UAAU,IAAI,CAACE,aAAnB,EAAkC;AAChCD,MAAAA,aAAa,CAAC,KAAD,CAAb;AACAE,MAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACD,KAHD,MAGO;AACLA,MAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACD;AACF,GAPD;;AASA,MAAMsB,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;AAClCxB,IAAAA,aAAa,CAAC,KAAD,CAAb;AACAE,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACD,GAHD;;AAKA,MAAMuB,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AAC/BvB,IAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAF,IAAAA,aAAa,CAAC,IAAD,CAAb;AACD,GAHD;;AAKA,MAAM0B,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,KAAD,EAA+D;AACtFrB,IAAAA,aAAa,iCAAMD,UAAN,2BAAmBsB,KAAK,CAACC,MAAN,CAAarB,IAAhC,EAAuCoB,KAAK,CAACC,MAAN,CAAaC,KAApD,GAAb;AACD,GAFD;;AAIA,MAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACH,KAAD,EAA+D;AACzFlB,IAAAA,gBAAgB,iCAAMD,aAAN,2BAAsBmB,KAAK,CAACC,MAAN,CAAarB,IAAnC,EAA0CoB,KAAK,CAACC,MAAN,CAAaC,KAAvD,GAAhB;AACD,GAFD;;AAIA,MAAMhB,KAAK,GAAG,SAARA,KAAQ,GAAM;AAClBM,IAAAA,aAAa,CAAC;AACZY,MAAAA,SAAS,EAAE;AAAE1B,QAAAA,UAAU,EAAVA;AAAF;AADC,KAAD,CAAb;AAGD,GAJD;;AAMA,MAAM2B,UAAU,GAAG,SAAbA,UAAa,CAACL,KAAD,EAAgC;AACjD,QAAIA,KAAK,CAACM,GAAN,KAAc,OAAlB,EAA2B;AACzBpB,MAAAA,KAAK;AACN;AACF,GAJD;;AAMA,MAAMqB,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrBd,IAAAA,gBAAgB,CAAC;AACfW,MAAAA,SAAS,EAAE;AAAEvB,QAAAA,aAAa,EAAbA;AAAF;AADI,KAAD,CAAhB;AAGD,GAJD;;AAMA3B,EAAAA,SAAS,CAAC,YAAM;AACd,aAASsD,SAAT,GAAqB;AACnB,UAAIC,MAAM,CAACC,OAAP,KAAmB,CAAvB,EAA0B;AACxBvC,QAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,OAFD,MAEO;AACLA,QAAAA,QAAQ,CAAC,KAAD,CAAR;AACD;AACF;;AAEDsC,IAAAA,MAAM,CAACE,gBAAP,CAAwB,QAAxB,EAAkCH,SAAlC;AACAC,IAAAA,MAAM,CAACE,gBAAP,CAAwB,MAAxB,EAAgCH,SAAhC;AACA,WAAO,YAAM;AACXC,MAAAA,MAAM,CAACG,mBAAP,CAA2B,QAA3B,EAAqCJ,SAArC;AACAC,MAAAA,MAAM,CAACG,mBAAP,CAA2B,MAA3B,EAAmCJ,SAAnC;AACD,KAHD;AAID,GAfQ,EAeN,EAfM,CAAT;AAiBA,sBACE,QAAC,eAAD;AAAiB,IAAA,KAAK,EAAEtC,KAAxB;AAAA,4BACE,QAAC,kBAAD;AAAA,8BACE,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA,eADF,eAEE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,eAFF,eAGE,QAAC,KAAD;AAAA,kBACGN,KAAK,CAACiD,GAAN,CAAU,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAC1B,cAAIhD,SAAJ,EAAe;AACb,gCACE,QAAC,IAAD;AAAkB,cAAA,KAAK,EAAEG,KAAzB;AAAgC,cAAA,IAAI,EAAE4C,IAAI,CAAChD,IAA3C;AAAA,qCACE,QAAC,QAAD;AAAA,0BAAWgD,IAAI,CAACjD;AAAhB;AAAA;AAAA;AAAA;AAAA;AADF,eAAWkD,KAAX;AAAA;AAAA;AAAA;AAAA,qBADF;AAKD,WAND,MAMO;AACL,gBAAI,CAACD,IAAI,CAAC/C,SAAV,EAAqB;AACnB,kCACE,QAAC,IAAD;AAAkB,gBAAA,KAAK,EAAEG,KAAzB;AAAgC,gBAAA,IAAI,EAAE4C,IAAI,CAAChD,IAA3C;AAAA,uCACE,QAAC,QAAD;AAAA,4BAAWgD,IAAI,CAACjD;AAAhB;AAAA;AAAA;AAAA;AAAA;AADF,iBAAWkD,KAAX;AAAA;AAAA;AAAA;AAAA,uBADF;AAKD;AACF;AACF,SAhBA;AADH;AAAA;AAAA;AAAA;AAAA,eAHF;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAwBG,CAAChD,SAAD,iBAAc,QAAC,WAAD;AAAa,MAAA,OAAO,EAAE;AAAA,eAAMM,aAAa,CAAC,IAAD,CAAnB;AAAA,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAxBjB,EAyBGD,UAAU,iBACT,QAAC,mBAAD;AAAA,8BACE,QAAC,SAAD;AAAW,QAAA,OAAO,EAAEuB;AAApB;AAAA;AAAA;AAAA;AAAA,eADF,eAEE,QAAC,UAAD;AAAA,gCACE,QAAC,gBAAD;AAAA,wDAEE,QAAC,WAAD;AAAa,YAAA,OAAO,EAAEA,gBAAtB;AAAA,mCACE,QAAC,KAAD;AAAO,cAAA,KAAK,EAAE,EAAd;AAAkB,cAAA,MAAM,EAAE,EAA1B;AAA8B,cAAA,KAAK,EAAE;AAArC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,mBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAOE,QAAC,cAAD;AAAA,kCACE,QAAC,cAAD;AAAA,mCACE,QAAC,UAAD;AAAY,cAAA,IAAI,EAAE,OAAlB;AAA2B,cAAA,WAAW,EAAE,KAAxC;AAA+C,cAAA,QAAQ,EAAEI;AAAzD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,mBADF,eAIE,QAAC,cAAD;AAAA,mCACE,QAAC,UAAD;AAAY,cAAA,IAAI,EAAE,UAAlB;AAA8B,cAAA,IAAI,EAAE,UAApC;AAAgD,cAAA,WAAW,EAAE,MAA7D;AAAqE,cAAA,QAAQ,EAAEA,gBAA/E;AAAiG,cAAA,UAAU,EAAEM;AAA7G;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,mBAJF,eAOE,QAAC,eAAD;AAAA,mCACE,QAAC,MAAD;AAAQ,cAAA,KAAK,EAAE,MAAf;AAAuB,cAAA,MAAM,EAAE,EAA/B;AAAmC,cAAA,OAAO,EAAE,QAA5C;AAAsD,cAAA,OAAO,EAAEnB,KAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,mBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,iBAPF,eAoBE,QAAC,gBAAD;AAAA,6EACW,QAAC,QAAD;AAAU,YAAA,OAAO,EAAEW,qBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADX;AAAA;AAAA;AAAA;AAAA;AAAA,iBApBF;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF;AAAA;AAAA;AAAA;AAAA;AAAA,aA1BJ,EAsDGvB,aAAa,iBACZ,QAAC,mBAAD;AAAA,8BACE,QAAC,SAAD;AAAW,QAAA,OAAO,EAAEsB;AAApB;AAAA;AAAA;AAAA;AAAA,eADF,eAEE,QAAC,UAAD;AAAA,gCACE,QAAC,gBAAD;AAAA,8DAEE,QAAC,WAAD;AAAa,YAAA,OAAO,EAAEA,mBAAtB;AAAA,mCACE,QAAC,KAAD;AAAO,cAAA,KAAK,EAAE,EAAd;AAAkB,cAAA,MAAM,EAAE,EAA1B;AAA8B,cAAA,KAAK,EAAE;AAArC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,mBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAOE,QAAC,cAAD;AAAA,kCACE,QAAC,cAAD;AAAA,mCACE,QAAC,UAAD;AAAY,cAAA,IAAI,EAAE,OAAlB;AAA2B,cAAA,WAAW,EAAE,KAAxC;AAA+C,cAAA,QAAQ,EAAEO;AAAzD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,mBADF,eAIE,QAAC,cAAD;AAAA,mCACE,QAAC,UAAD;AAAY,cAAA,IAAI,EAAE,MAAlB;AAA0B,cAAA,WAAW,EAAE,IAAvC;AAA6C,cAAA,QAAQ,EAAEA;AAAvD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,mBAJF,eAOE,QAAC,cAAD;AAAA,mCACE,QAAC,UAAD;AAAY,cAAA,IAAI,EAAE,UAAlB;AAA8B,cAAA,IAAI,EAAE,UAApC;AAAgD,cAAA,WAAW,EAAE,MAA7D;AAAqE,cAAA,QAAQ,EAAEA;AAA/E;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,mBAPF,eAUE,QAAC,eAAD;AAAA,mCACE,QAAC,MAAD;AAAQ,cAAA,KAAK,EAAE,MAAf;AAAuB,cAAA,MAAM,EAAE,EAA/B;AAAmC,cAAA,OAAO,EAAE,QAA5C;AAAsD,cAAA,OAAO,EAAEI,QAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,mBAVF;AAAA;AAAA;AAAA;AAAA;AAAA,iBAPF,eAuBE,QAAC,gBAAD;AAAA,iCACE,QAAC,QAAD;AAAU,YAAA,OAAO,EAAET,kBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,iBAvBF;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF;AAAA;AAAA;AAAA;AAAA;AAAA,aAvDJ;AAAA;AAAA;AAAA;AAAA;AAAA,WADF;AAyFD,CAzLD;;GAAM9B,M;UAOoBR,W,EASGA,W;;;KAhBvBQ,M;AA2LN,eAAeA,MAAf;AAEA,IAAMgD,eAAe,GAAG3D,GAAH,mBAArB;AAIA,IAAM4D,eAAe,GAAG7D,MAAM,CAAC8D,MAAV,qBACP,UAACC,CAAD;AAAA,SAAQA,CAAC,CAACjD,KAAF,GAAU,UAAV,GAAuB,OAA/B;AAAA,CADO,EAMjB,UAACiD,CAAD;AAAA,SAAO,CAACA,CAAC,CAACjD,KAAH,IAAY8C,eAAnB;AAAA,CANiB,EAOV,UAACG,CAAD;AAAA,SAAQA,CAAC,CAACjD,KAAF,GAAU,MAAV,GAAmB,MAA3B;AAAA,CAPU,EAQF,UAACiD,CAAD;AAAA,SAAO,CAACA,CAAC,CAACjD,KAAH,IAAY,gBAAnB;AAAA,CARE,EASL,UAACiD,CAAD;AAAA,SAAO,CAACA,CAAC,CAACjD,KAAH,IAAY,kCAAnB;AAAA,CATK,EAaG,UAACiD,CAAD;AAAA,SAAQA,CAAC,CAACjD,KAAF,GAAU,oDAAV,GAAiE,iDAAzE;AAAA,CAbH,EAyBN,UAACiD,CAAD;AAAA,SAAQA,CAAC,CAACjD,KAAF,GAAU,KAAV,GAAkB,GAA1B;AAAA,CAzBM,CAArB;MAAM+C,e;AA6BN,IAAMG,kBAAkB,GAAGhE,MAAM,CAACiE,GAAV,oBAAxB;MAAMD,kB;AAWN,IAAME,IAAI,GAAGlE,MAAM,CAACiE,GAAV,oBAAV;MAAMC,I;AAQN,IAAMC,MAAM,GAAGnE,MAAM,CAACiE,GAAV,oBAAZ;MAAME,M;AAON,IAAMC,KAAK,GAAGpE,MAAM,CAACqE,GAAV,oBAAX;MAAMD,K;AAQN,IAAME,IAAI,GAAGtE,MAAM,CAACuE,CAAV,qBAiBJ,UAACR,CAAD;AAAA,SAAQA,CAAC,CAACjD,KAAF,GAAU,uCAAV,GAAoD,gCAA5D;AAAA,CAjBI,CAAV;MAAMwD,I;AAqBN,IAAME,QAAQ,GAAGxE,MAAM,CAACiE,GAAV,oBAAd;MAAMO,Q;AAIN,IAAMC,WAAW,GAAGzE,MAAM,CAAC0E,MAAV,oBAAjB;MAAMD,W;AAUN,IAAME,mBAAmB,GAAG3E,MAAM,CAACiE,GAAV,qBAAzB;OAAMU,mB;AAEN,IAAMC,SAAS,GAAG5E,MAAM,CAACiE,GAAV,qBAAf;OAAMW,S;AAON,IAAMC,UAAU,GAAG7E,MAAM,CAACiE,GAAV,qBAAhB;OAAMY,U;AAkBN,IAAMC,gBAAgB,GAAG9E,MAAM,CAACiE,GAAV,qBAAtB;OAAMa,gB;AAYN,IAAMC,WAAW,GAAG/E,MAAM,CAACiE,GAAV,qBAAjB;OAAMc,W;AAON,IAAMC,cAAc,GAAGhF,MAAM,CAACiE,GAAV,qBAApB;OAAMe,c;AAON,IAAMC,cAAc,GAAGjF,MAAM,CAACiE,GAAV,qBAApB;OAAMgB,c;AAIN,IAAMC,UAAU,GAAGlF,MAAM,CAACmF,KAAV,qBAAhB;OAAMD,U;AAQN,IAAME,eAAe,GAAGpF,MAAM,CAACiE,GAAV,qBAArB;OAAMmB,e;AAMN,IAAMC,gBAAgB,GAAGrF,MAAM,CAACiE,GAAV,qBAAtB;OAAMoB,gB;AAMN,IAAMC,QAAQ,GAAGtF,MAAM,CAACuF,IAAV,qBAAd;OAAMD,Q","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"styles/styled\";\nimport { css } from \"@emotion/core\";\nimport { Close } from \"styles/Icon\";\nimport { Button } from \"styles\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { LOGIN, REGISTER } from \"@api/User\";\nimport cookie from \"js-cookie\";\n\nconst menus: { label: string; link: string; authority?: boolean }[] = [\n  { label: \"Home\", link: \"/\" },\n  { label: \"Edit\", link: \"/edit\", authority: true },\n  { label: \"Menu\", link: \"#\", authority: true },\n  { label: \"Guide\", link: \"/guide\", authority: true },\n  { label: \"Setting\", link: \"/setting\", authority: true },\n];\n\nconst Header: React.FC<ExtendProps> = ({ authority, authenticated }) => {\n  const [isTop, setIsTop] = useState<boolean>(true);\n  const [loginModal, setLoginModal] = useState<boolean>(false);\n  const [registerModal, setRegisterModal] = useState<boolean>(false);\n  const [loginInput, setLoginInput] = useState({ email: \"\", password: \"\" });\n  const [registerInput, setRegisterInput] = useState({ email: \"\", name: \"\", password: \"\" });\n\n  const [LoginMutation] = useMutation(LOGIN, {\n    onCompleted: (data) => {\n      cookie.set(\"accessToken\", data.login.token);\n      localStorage.setItem(\"user\", JSON.stringify({ email: data.login.email, name: data.login.name }));\n      authenticated(true);\n      setLoginModal(false);\n    },\n  });\n\n  const [RegisterMutation] = useMutation(REGISTER, {\n    onCompleted: () => {\n      setLoginModal(true);\n      setRegisterModal(false);\n    },\n  });\n\n  useEffect(() => {\n    const token = cookie.get(\"accessToken\");\n    if (token) {\n      authenticated(true);\n    }\n  }, [authority]);\n\n  const handleLoginModal = () => {\n    setLoginModal(false);\n  };\n\n  const handleRegisterModal = () => {\n    if (loginModal && !registerModal) {\n      setLoginModal(false);\n      setRegisterModal(true);\n    } else {\n      setRegisterModal(false);\n    }\n  };\n\n  const changeToRegisterModal = () => {\n    setLoginModal(false);\n    setRegisterModal(true);\n  };\n\n  const changeToLoginModal = () => {\n    setRegisterModal(false);\n    setLoginModal(true);\n  };\n\n  const handleLoginInput = (event: React.ChangeEvent<{ name: string; value: string }>) => {\n    setLoginInput({ ...loginInput, [event.target.name]: event.target.value });\n  };\n\n  const handleRegisterInput = (event: React.ChangeEvent<{ name: string; value: string }>) => {\n    setRegisterInput({ ...registerInput, [event.target.name]: event.target.value });\n  };\n\n  const login = () => {\n    LoginMutation({\n      variables: { loginInput },\n    });\n  };\n\n  const enterLogin = (event: React.KeyboardEvent) => {\n    if (event.key === \"Enter\") {\n      login();\n    }\n  };\n\n  const register = () => {\n    RegisterMutation({\n      variables: { registerInput },\n    });\n  };\n\n  useEffect(() => {\n    function isTopZero() {\n      if (window.scrollY === 0) {\n        setIsTop(true);\n      } else {\n        setIsTop(false);\n      }\n    }\n\n    window.addEventListener(\"scroll\", isTopZero);\n    window.addEventListener(\"load\", isTopZero);\n    return () => {\n      window.removeEventListener(\"scroll\", isTopZero);\n      window.removeEventListener(\"load\", isTopZero);\n    };\n  }, []);\n\n  return (\n    <HeaderContainer isTop={isTop}>\n      <HeaderContentsWrap>\n        <Logo />\n        <Center />\n        <Menus>\n          {menus.map((item, index) => {\n            if (authority) {\n              return (\n                <Menu key={index} isTop={isTop} href={item.link}>\n                  <MenuName>{item.label}</MenuName>\n                </Menu>\n              );\n            } else {\n              if (!item.authority) {\n                return (\n                  <Menu key={index} isTop={isTop} href={item.link}>\n                    <MenuName>{item.label}</MenuName>\n                  </Menu>\n                );\n              }\n            }\n          })}\n        </Menus>\n      </HeaderContentsWrap>\n      {!authority && <ModalButton onClick={() => setLoginModal(true)}>버튼</ModalButton>}\n      {loginModal && (\n        <LoginModalContainer>\n          <DarkLayer onClick={handleLoginModal} />\n          <LoginModal>\n            <LoginModalHeader>\n              로그인\n              <CloseButton onClick={handleLoginModal}>\n                <Close width={20} height={20} color={\"#313131\"} />\n              </CloseButton>\n            </LoginModalHeader>\n            <LoginModalBody>\n              <LoginInputWrap>\n                <LoginInput name={\"email\"} placeholder={\"이메일\"} onChange={handleLoginInput} />\n              </LoginInputWrap>\n              <LoginInputWrap>\n                <LoginInput name={\"password\"} type={\"password\"} placeholder={\"비밀번호\"} onChange={handleLoginInput} onKeyPress={enterLogin} />\n              </LoginInputWrap>\n              <LoginButtonWrap>\n                <Button width={\"100%\"} height={48} variant={\"danger\"} onClick={login}>\n                  로그인\n                </Button>\n              </LoginButtonWrap>\n            </LoginModalBody>\n            <LoginModalFooter>\n              계정이 없다면? <Register onClick={changeToRegisterModal}>회원등록</Register>\n            </LoginModalFooter>\n          </LoginModal>\n        </LoginModalContainer>\n      )}\n      {registerModal && (\n        <LoginModalContainer>\n          <DarkLayer onClick={handleRegisterModal} />\n          <LoginModal>\n            <LoginModalHeader>\n              회원등록\n              <CloseButton onClick={handleRegisterModal}>\n                <Close width={20} height={20} color={\"#313131\"} />\n              </CloseButton>\n            </LoginModalHeader>\n            <LoginModalBody>\n              <LoginInputWrap>\n                <LoginInput name={\"email\"} placeholder={\"이메일\"} onChange={handleRegisterInput} />\n              </LoginInputWrap>\n              <LoginInputWrap>\n                <LoginInput name={\"name\"} placeholder={\"이름\"} onChange={handleRegisterInput} />\n              </LoginInputWrap>\n              <LoginInputWrap>\n                <LoginInput name={\"password\"} type={\"password\"} placeholder={\"비밀번호\"} onChange={handleRegisterInput} />\n              </LoginInputWrap>\n              <LoginButtonWrap>\n                <Button width={\"100%\"} height={48} variant={\"danger\"} onClick={register}>\n                  회원등록\n                </Button>\n              </LoginButtonWrap>\n            </LoginModalBody>\n            <LoginModalFooter>\n              <Register onClick={changeToLoginModal}>로그인</Register>\n            </LoginModalFooter>\n          </LoginModal>\n        </LoginModalContainer>\n      )}\n    </HeaderContainer>\n  );\n};\n\nexport default Header;\n\nconst WhiteBackground = css`\n  background-color: #fff;\n`;\n\nconst HeaderContainer = styled.header<IHeader>`\n  position: ${(p) => (p.isTop ? \"absolute\" : \"fixed\")};\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 80px;\n  ${(p) => !p.isTop && WhiteBackground}\n  color: ${(p) => (p.isTop ? \"#fff\" : \"#000\")};\n  border-bottom: ${(p) => !p.isTop && \"1px solid #eee\"};\n  box-shadow: ${(p) => !p.isTop && \"rgba(0, 0, 0, 0.08) 0px 1px 12px\"};\n  z-index: 100;\n\n  ::before {\n    background-image: ${(p) => (p.isTop ? \"linear-gradient(to bottom, #000, rgba(0, 0, 0, 0))\" : \"linear-gradient(rgb(0, 0, 0), rgba(0, 0, 0, 0))\")};\n    content: \"\";\n    height: 140%;\n    left: 50%;\n    pointer-events: none;\n    position: absolute;\n    top: 0;\n    max-width: 1440px;\n    width: 100%;\n    z-index: 0;\n    transform: translateX(-50%);\n    transition: 150ms opacity ease;\n    opacity: ${(p) => (p.isTop ? \"0.4\" : \"0\")};\n  }\n`;\n\nconst HeaderContentsWrap = styled.div`\n  display: flex;\n  align-items: center;\n  max-width: 1440px;\n  width: 100%;\n  height: 100%;\n  margin: 0 auto;\n  padding: 0 80px;\n  font-weight: 400;\n`;\n\nconst Logo = styled.div`\n  flex: 1 0 140px;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  z-index: 1;\n`;\n\nconst Center = styled.div`\n  flex: 1 0 200px;\n  display: flex;\n  align-items: center;\n  z-index: 1;\n`;\n\nconst Menus = styled.nav`\n  flex: 1 0 auto;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  z-index: 1;\n`;\n\nconst Menu = styled.a<IHeader>`\n  position: relative;\n  padding: 12px;\n  font-size: 1rem;\n  user-select: none;\n\n  ::before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    right: -3px;\n    bottom: 0;\n    left: -3px;\n    border-radius: 22px;\n  }\n\n  :hover::before {\n    ${(p) => (p.isTop ? \"background: rgba(255, 255, 255, 0.15)\" : \"background: rgb(247, 247, 247)\")};\n  }\n`;\n\nconst MenuName = styled.div`\n  position: relative;\n`;\n\nconst ModalButton = styled.button`\n  position: fixed;\n  top: 0;\n  right: 0;\n  width: 10px;\n  height: 10px;\n  opacity: 0;\n  cursor: none;\n`;\n\nconst LoginModalContainer = styled.div``;\n\nconst DarkLayer = styled.div`\n  position: fixed;\n  inset: 0;\n  z-index: 10;\n  background: rgba(0, 0, 0, 0.5);\n`;\n\nconst LoginModal = styled.div`\n  position: fixed;\n  top: 50%;\n  left: calc(50% - 20px);\n  display: flex;\n  flex-direction: column;\n  margin: 0 20px;\n  width: 80%;\n  max-width: 568px;\n  max-height: 100%;\n  color: #000;\n  background-color: #fff;\n  border-radius: 12px;\n  box-shadow: rgba(0, 0, 0, 0.28) 0 8px 28px;\n  transform: translate(-50%, -50%);\n  z-index: 15;\n`;\n\nconst LoginModalHeader = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 4rem;\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: #313131;\n  border-bottom: 1px solid #e7e7e7;\n`;\n\nconst CloseButton = styled.div`\n  position: absolute;\n  right: 1rem;\n  display: inline-flex;\n  cursor: pointer;\n`;\n\nconst LoginModalBody = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 1.5rem;\n  border-bottom: 1px solid #e7e7e7;\n`;\n\nconst LoginInputWrap = styled.div`\n  padding: 0.5rem 0;\n`;\n\nconst LoginInput = styled.input`\n  margin: 0;\n  padding: 1rem 1rem;\n  width: 100%;\n  border: 1px solid #e7e7e7;\n  border-radius: 4px;\n`;\n\nconst LoginButtonWrap = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 1rem;\n`;\n\nconst LoginModalFooter = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 1rem 1.5rem;\n`;\n\nconst Register = styled.span`\n  margin-left: 0.5rem;\n  font-weight: 500;\n  color: #3469d3;\n  cursor: pointer;\n\n  :hover {\n    text-decoration: underline;\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}
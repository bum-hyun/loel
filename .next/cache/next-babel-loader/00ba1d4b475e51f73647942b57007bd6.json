{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport React, { useState } from \"react\";\nimport Head from \"next/head\";\nimport { Card } from \"styles\";\nimport styled from \"styles/styled\";\nimport { DefaultLayout } from \"layouts\";\nimport { useRouter } from \"next/router\";\nimport EmptyBox from \"styles/Icon/EmptyBox\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { GET_CATEGORY_POSTS } from \"@api/Post\";\nimport { thumbnail, decodeHTML } from \"@utils/common\";\n\nconst Posts = ({\n  params\n}) => {\n  const router = useRouter();\n  const {\n    category\n  } = params;\n  const {\n    0: posts,\n    1: setPosts\n  } = useState([]);\n  useQuery(GET_CATEGORY_POSTS, {\n    fetchPolicy: \"cache-first\",\n    variables: {\n      category\n    },\n    onCompleted: data => {\n      setPosts(data.getCategoryPosts.length > 0 ? data.getCategoryPosts : null);\n    }\n  });\n\n  const readPost = link => {\n    router.push(link);\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"link\", {\n        rel: \"canonical\",\n        href: `https://loelblog.com/${category}`\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"title\",\n        content: `Loel's Blog - ${category}`\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"description\",\n        content: `${category} 글 리스트 입니다.`\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:title\",\n        content: `Loel's Blog - ${category}`\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:type\",\n        content: \"website\"\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:url\",\n        content: `https://www.loelblog.com/${category}`\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:description\",\n        content: `${category} 글 리스트 입니다.`\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:image\",\n        content: \"https://images.loelblog.com/thumb/background.jpg\"\n      }), /*#__PURE__*/_jsx(\"title\", {\n        children: `Loel's Blog - ${category}`\n      })]\n    }), /*#__PURE__*/_jsxs(SectionWrap, {\n      children: [/*#__PURE__*/_jsx(Title, {\n        children: category === null || category === void 0 ? void 0 : category.toUpperCase()\n      }), /*#__PURE__*/_jsxs(CardWrapper, {\n        children: [posts && posts.map(item => {\n          return /*#__PURE__*/_jsx(Card, {\n            onClick: () => readPost(`/post/${item.id}`),\n            title: item.title,\n            thumbnail: item.image && item.image.length > 0 ? thumbnail(item.image) : \"\",\n            children: decodeHTML(item)\n          }, item.id);\n        }), !posts && /*#__PURE__*/_jsxs(Empty, {\n          children: [/*#__PURE__*/_jsx(EmptyBox, {\n            width: 80,\n            height: 80,\n            color: \"#ff9494\"\n          }), /*#__PURE__*/_jsx(EmptyText, {\n            children: \"\\uAE00\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n          })]\n        })]\n      })]\n    })]\n  });\n};\n\nexport async function getServerSideProps({\n  params\n}) {\n  return {\n    props: {\n      params\n    }\n  };\n}\nexport default DefaultLayout(Posts);\nconst SectionWrap = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\nconst CardWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  margin-left: -1rem;\n  margin-right: -1rem;\n\n  @media (min-width: 568px) {\n    > div {\n      flex: 1 0 50%;\n      max-width: 50%;\n    }\n  }\n\n  @media (min-width: 1350px) {\n    > div {\n      flex: 1 0 33%;\n      max-width: 33%;\n    }\n  }\n`;\nconst Title = styled.div`\n  padding: 10px;\n  font-size: 1.5rem;\n  font-weight: bold;\n  color: #000;\n`;\nconst Empty = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: 1.625rem;\n  width: 100%;\n  height: 300px;\n  border: 1px solid #aeaeae;\n  border-radius: 4px;\n`;\nconst EmptyText = styled.div`\n  margin-top: 1rem;\n  font-weight: 500;\n  color: #313131;\n`;","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/loel/Documents/loel-blog/src/styles/Collapse/index.tsx\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  margin: 1rem 0;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 0 1rem;\\n  height: \", \"px;\\n  background-color: #fff;\\n  overflow: hidden;\\n  transition: height 0.2s ease-out;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 1rem;\\n  color: #000;\\n  background-color: #ddd;\\n  \", \"\\n  cursor: pointer;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  border: 1px solid #e6e6e6;\\n  border-radius: 2px;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useRef, useState, useEffect } from \"react\";\nimport styled from \"styles/styled\";\n\nvar Collapse = function Collapse(_ref) {\n  _s();\n\n  var active = _ref.active,\n      accordion = _ref.accordion,\n      children = _ref.children;\n\n  var _useState = useState(active ? active : accordion ? 0 : []),\n      activeIndex = _useState[0],\n      setActiveIndex = _useState[1];\n\n  var showContent = function showContent(index) {\n    if (accordion) {\n      setActiveIndex(index);\n    } else {\n      var temp;\n\n      if (activeIndex.includes(index)) {\n        temp = activeIndex.filter(function (item) {\n          return item !== index;\n        });\n      } else {\n        temp = activeIndex.concat(index);\n      }\n\n      setActiveIndex(temp);\n    }\n  };\n\n  var childrenWithProps = React.Children.map(children, function (child, index) {\n    if ((child === null || child === void 0 ? void 0 : child.type) === Panel) {\n      return /*#__PURE__*/React.cloneElement(child, {\n        showContent: showContent,\n        index: index,\n        isActive: accordion ? index === activeIndex : activeIndex.includes(index)\n      });\n    } else {\n      throw new Error(\"패널 컴포넌트를 넣어주세요.\");\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: childrenWithProps\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 10\n  }, _this);\n};\n\n_s(Collapse, \"VVTGajVg+hRJSHvurJcKVmhk6KI=\");\n\n_c = Collapse;\nexport default Collapse;\nexport var Panel = function Panel(_ref2) {\n  _s2();\n\n  var title = _ref2.title,\n      children = _ref2.children,\n      rest = _objectWithoutProperties(_ref2, [\"title\", \"children\"]);\n\n  var _ref3 = rest,\n      showContent = _ref3.showContent,\n      index = _ref3.index,\n      isActive = _ref3.isActive;\n  var ref = useRef(null);\n\n  var _useState2 = useState(0),\n      height = _useState2[0],\n      setHeight = _useState2[1];\n\n  useEffect(function () {\n    if (ref.current) {\n      setHeight(ref.current.scrollHeight);\n    }\n  }, [ref]);\n  return /*#__PURE__*/_jsxDEV(Wrap, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      index: index,\n      onClick: function onClick() {\n        return showContent(index);\n      },\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, _this), ref && /*#__PURE__*/_jsxDEV(ContentWrap, {\n      active: isActive,\n      ref: ref,\n      height: height,\n      children: /*#__PURE__*/_jsxDEV(Content, {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, _this);\n};\n\n_s2(Panel, \"thFOuN2Ng62aJXtxw2irmOmjSeg=\");\n\n_c2 = Panel;\nvar Container = styled.div(_templateObject());\n_c3 = Container;\nvar Wrap = styled.div(_templateObject2());\n_c4 = Wrap;\nvar Header = styled.div(_templateObject3(), function (p) {\n  return p.index === 0 && \"border-top-left-radius: 4px; border-top-right-radius: 4px;\";\n});\n_c5 = Header;\nvar ContentWrap = styled.div(_templateObject4(), function (p) {\n  return p.active ? p.height : \"0\";\n});\n_c6 = ContentWrap;\nvar Content = styled.p(_templateObject5());\n_c7 = Content;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"Collapse\");\n$RefreshReg$(_c2, \"Panel\");\n$RefreshReg$(_c3, \"Container\");\n$RefreshReg$(_c4, \"Wrap\");\n$RefreshReg$(_c5, \"Header\");\n$RefreshReg$(_c6, \"ContentWrap\");\n$RefreshReg$(_c7, \"Content\");","map":{"version":3,"sources":["/Users/loel/Documents/loel-blog/src/styles/Collapse/index.tsx"],"names":["React","useRef","useState","useEffect","styled","Collapse","active","accordion","children","activeIndex","setActiveIndex","showContent","index","temp","includes","filter","item","concat","childrenWithProps","Children","map","child","type","Panel","cloneElement","isActive","Error","title","rest","ref","height","setHeight","current","scrollHeight","Container","div","Wrap","Header","p","ContentWrap","Content"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport styled from \"styles/styled\";\n\ninterface ICollapse {\n  active?: number | number[];\n  accordion?: boolean;\n  children: React.ReactNode;\n}\n\ninterface ICollapseProps {\n  index: number;\n  showContent: (index: number) => void;\n  isActive: boolean;\n}\n\ninterface ICollapsePanel {\n  title: string;\n  children: React.ReactNode;\n}\n\nconst Collapse: React.FC<ICollapse> = ({ active, accordion, children }) => {\n  const [activeIndex, setActiveIndex] = useState<number | number[]>(active ? active : accordion ? 0 : []);\n\n  const showContent = (index: number) => {\n    if (accordion) {\n      setActiveIndex(index);\n    } else {\n      let temp;\n      if ((activeIndex as number[]).includes(index)) {\n        temp = (activeIndex as number[]).filter((item) => item !== index);\n      } else {\n        temp = (activeIndex as number[]).concat(index);\n      }\n      setActiveIndex(temp);\n    }\n  };\n\n  const childrenWithProps = React.Children.map(children, (child, index) => {\n    if ((child as React.ReactElement)?.type === Panel) {\n      return React.cloneElement(child as React.ReactElement, {\n        showContent,\n        index,\n        isActive: accordion ? index === activeIndex : (activeIndex as number[]).includes(index),\n      });\n    } else {\n      throw new Error(\"패널 컴포넌트를 넣어주세요.\");\n    }\n  });\n\n  return <Container>{childrenWithProps}</Container>;\n};\n\nexport default Collapse;\n\nexport const Panel: React.FC<ICollapsePanel> = ({ title, children, ...rest }) => {\n  const { showContent, index, isActive } = rest as ICollapseProps;\n  const ref = useRef<HTMLDivElement | null>(null);\n  const [height, setHeight] = useState<number>(0);\n\n  useEffect(() => {\n    if (ref.current) {\n      setHeight(ref.current.scrollHeight);\n    }\n  }, [ref]);\n\n  return (\n    <Wrap>\n      <Header index={index} onClick={() => showContent(index)}>\n        {title}\n      </Header>\n      {ref && (\n        <ContentWrap active={isActive} ref={ref} height={height}>\n          <Content>{children}</Content>\n        </ContentWrap>\n      )}\n    </Wrap>\n  );\n};\n\nconst Container = styled.div`\n  width: 100%;\n  border: 1px solid #e6e6e6;\n  border-radius: 2px;\n`;\n\nconst Wrap = styled.div`\n  width: 100%;\n`;\n\nconst Header = styled.div<{ index: number }>`\n  padding: 1rem;\n  color: #000;\n  background-color: #ddd;\n  ${(p) => p.index === 0 && \"border-top-left-radius: 4px; border-top-right-radius: 4px;\"}\n  cursor: pointer;\n`;\n\nconst ContentWrap = styled.div<{ active: boolean; height: number }>`\n  padding: 0 1rem;\n  height: ${(p) => (p.active ? p.height : \"0\")}px;\n  background-color: #fff;\n  overflow: hidden;\n  transition: height 0.2s ease-out;\n`;\n\nconst Content = styled.p`\n  margin: 1rem 0;\n`;\n"]},"metadata":{},"sourceType":"module"}
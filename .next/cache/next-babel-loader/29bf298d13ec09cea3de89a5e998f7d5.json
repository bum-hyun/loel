{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/loel/Documents/loel-blog/src/components/TuiEditorWrapper.tsx\",\n    _this = this;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport ToastEditor from \"@toast-ui/editor\";\nimport { Editor } from \"@toast-ui/react-editor\";\nimport colorSyntaxPlugin from \"@toast-ui/editor-plugin-color-syntax\";\nimport Prism from \"prismjs\";\nimport \"prismjs/themes/prism.css\";\n\nvar TuiEditorWrapper = function TuiEditorWrapper(props) {\n  var prism = function prism() {\n    function registerRequire(language) {\n      var requires = languages[language].require;\n\n      if (requires) {\n        if (typeof requires === \"string\") {\n          registerRequire(requires);\n        } else {\n          requires.forEach(function (item) {\n            return registerRequire(item);\n          });\n        }\n\n        registerLanguage(language);\n      } else {\n        registerLanguage(language);\n      }\n    }\n\n    function registerLanguage(language) {\n      require(\"prismjs/components/prism-\".concat(language, \".min.js\"));\n\n      ToastEditor.codeBlockManager.setReplacer(language, function (code) {\n        return Prism.highlight(code, Prism.languages[language], language);\n      });\n    }\n\n    var _require = require(\"prismjs/components\"),\n        languages = _require.languages;\n\n    for (var language in languages) {\n      if (language !== \"meta\" && languages[language].option !== \"default\") {\n        registerRequire(language);\n      }\n    }\n  };\n\n  var youtube = function youtube() {\n    ToastEditor.codeBlockManager.setReplacer(\"youtube\", function (youtubeId) {\n      var wrapperId = \"yt\".concat(Math.random().toString(36).substr(2, 10));\n      setTimeout(renderYoutube.bind(null, wrapperId, youtubeId), 0);\n      return \"<div id=\\\"\".concat(wrapperId, \"\\\"></div>\");\n    });\n  };\n\n  function renderYoutube(wrapperId, youtubeId) {\n    var el = document.querySelector(\"#\".concat(wrapperId));\n    el.innerHTML = \"<iframe width=\\\"420\\\" height=\\\"315\\\" src=\\\"https://www.youtube.com/embed/\".concat(youtubeId, \"\\\"></iframe>\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(Editor, _objectSpread(_objectSpread({}, props), {}, {\n    plugins: [colorSyntaxPlugin, youtube, prism],\n    ref: props.forwardedRef\n  }), void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 10\n  }, _this);\n};\n\n_c = TuiEditorWrapper;\nexport default TuiEditorWrapper;\n\nvar _c;\n\n$RefreshReg$(_c, \"TuiEditorWrapper\");","map":{"version":3,"sources":["/Users/loel/Documents/loel-blog/src/components/TuiEditorWrapper.tsx"],"names":["React","ToastEditor","Editor","colorSyntaxPlugin","Prism","TuiEditorWrapper","props","prism","registerRequire","language","requires","languages","require","forEach","item","registerLanguage","codeBlockManager","setReplacer","code","highlight","option","youtube","youtubeId","wrapperId","Math","random","toString","substr","setTimeout","renderYoutube","bind","el","document","querySelector","innerHTML","forwardedRef"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,kBAAxB;AACA,SAASC,MAAT,QAAoC,wBAApC;AACA,OAAOC,iBAAP,MAA8B,sCAA9B;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAO,0BAAP;;AAMA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,KAAD,EAAwC;AAC/D,MAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAClB,aAASC,eAAT,CAAyBC,QAAzB,EAA2C;AACzC,UAAMC,QAAQ,GAAGC,SAAS,CAACF,QAAD,CAAT,CAAoBG,OAArC;;AACA,UAAIF,QAAJ,EAAc;AACZ,YAAI,OAAOA,QAAP,KAAoB,QAAxB,EAAkC;AAChCF,UAAAA,eAAe,CAACE,QAAD,CAAf;AACD,SAFD,MAEO;AACLA,UAAAA,QAAQ,CAACG,OAAT,CAAiB,UAACC,IAAD;AAAA,mBAAkBN,eAAe,CAACM,IAAD,CAAjC;AAAA,WAAjB;AACD;;AACDC,QAAAA,gBAAgB,CAACN,QAAD,CAAhB;AACD,OAPD,MAOO;AACLM,QAAAA,gBAAgB,CAACN,QAAD,CAAhB;AACD;AACF;;AAED,aAASM,gBAAT,CAA0BN,QAA1B,EAA4C;AAC1CG,MAAAA,OAAO,oCAA6BH,QAA7B,aAAP;;AACAR,MAAAA,WAAW,CAACe,gBAAZ,CAA6BC,WAA7B,CAAyCR,QAAzC,EAAmD,UAACS,IAAD,EAAkB;AACnE,eAAOd,KAAK,CAACe,SAAN,CAAgBD,IAAhB,EAAsBd,KAAK,CAACO,SAAN,CAAgBF,QAAhB,CAAtB,EAAiDA,QAAjD,CAAP;AACD,OAFD;AAGD;;AApBiB,mBAsBIG,OAAO,CAAC,oBAAD,CAtBX;AAAA,QAsBVD,SAtBU,YAsBVA,SAtBU;;AAwBlB,SAAK,IAAMF,QAAX,IAAuBE,SAAvB,EAAkC;AAChC,UAAIF,QAAQ,KAAK,MAAb,IAAuBE,SAAS,CAACF,QAAD,CAAT,CAAoBW,MAApB,KAA+B,SAA1D,EAAqE;AACnEZ,QAAAA,eAAe,CAACC,QAAD,CAAf;AACD;AACF;AACF,GA7BD;;AA8BA,MAAMY,OAAO,GAAG,SAAVA,OAAU,GAAM;AACpBpB,IAAAA,WAAW,CAACe,gBAAZ,CAA6BC,WAA7B,CAAyC,SAAzC,EAAoD,UAACK,SAAD,EAAuB;AACzE,UAAMC,SAAS,eAAQC,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,MAA3B,CAAkC,CAAlC,EAAqC,EAArC,CAAR,CAAf;AAEAC,MAAAA,UAAU,CAACC,aAAa,CAACC,IAAd,CAAmB,IAAnB,EAAyBP,SAAzB,EAAoCD,SAApC,CAAD,EAAiD,CAAjD,CAAV;AAEA,iCAAmBC,SAAnB;AACD,KAND;AAOD,GARD;;AAUA,WAASM,aAAT,CAAuBN,SAAvB,EAA0CD,SAA1C,EAA6D;AAC3D,QAAMS,EAAE,GAAGC,QAAQ,CAACC,aAAT,YAA2BV,SAA3B,EAAX;AAEAQ,IAAAA,EAAE,CAAEG,SAAJ,sFAAuFZ,SAAvF;AACD;;AAED,sBAAO,QAAC,MAAD,kCAAYhB,KAAZ;AAAmB,IAAA,OAAO,EAAE,CAACH,iBAAD,EAAoBkB,OAApB,EAA6Bd,KAA7B,CAA5B;AAAiE,IAAA,GAAG,EAAED,KAAK,CAAC6B;AAA5E;AAAA;AAAA;AAAA;AAAA,WAAP;AACD,CAhDD;;KAAM9B,gB;AAkDN,eAAeA,gBAAf","sourcesContent":["import React from \"react\";\nimport ToastEditor from \"@toast-ui/editor\";\nimport { Editor, EditorProps } from \"@toast-ui/react-editor\";\nimport colorSyntaxPlugin from \"@toast-ui/editor-plugin-color-syntax\";\nimport Prism from \"prismjs\";\nimport \"prismjs/themes/prism.css\";\n\nexport interface TuiEditorWithForwardedProps extends EditorProps {\n  forwardedRef?: React.MutableRefObject<Editor>;\n}\n\nconst TuiEditorWrapper = (props: TuiEditorWithForwardedProps) => {\n  const prism = () => {\n    function registerRequire(language: string) {\n      const requires = languages[language].require;\n      if (requires) {\n        if (typeof requires === \"string\") {\n          registerRequire(requires);\n        } else {\n          requires.forEach((item: string) => registerRequire(item));\n        }\n        registerLanguage(language);\n      } else {\n        registerLanguage(language);\n      }\n    }\n\n    function registerLanguage(language: string) {\n      require(`prismjs/components/prism-${language}.min.js`);\n      ToastEditor.codeBlockManager.setReplacer(language, (code: string) => {\n        return Prism.highlight(code, Prism.languages[language], language);\n      });\n    }\n\n    const { languages } = require(\"prismjs/components\");\n\n    for (const language in languages) {\n      if (language !== \"meta\" && languages[language].option !== \"default\") {\n        registerRequire(language);\n      }\n    }\n  };\n  const youtube = () => {\n    ToastEditor.codeBlockManager.setReplacer(\"youtube\", (youtubeId: string) => {\n      const wrapperId = `yt${Math.random().toString(36).substr(2, 10)}`;\n\n      setTimeout(renderYoutube.bind(null, wrapperId, youtubeId), 0);\n\n      return `<div id=\"${wrapperId}\"></div>`;\n    });\n  };\n\n  function renderYoutube(wrapperId: string, youtubeId: string) {\n    const el = document.querySelector(`#${wrapperId}`);\n\n    el!.innerHTML = `<iframe width=\"420\" height=\"315\" src=\"https://www.youtube.com/embed/${youtubeId}\"></iframe>`;\n  }\n\n  return <Editor {...props} plugins={[colorSyntaxPlugin, youtube, prism]} ref={props.forwardedRef} />;\n};\n\nexport default TuiEditorWrapper;\n"]},"metadata":{},"sourceType":"module"}
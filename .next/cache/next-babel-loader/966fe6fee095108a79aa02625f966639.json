{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction _templateObject20() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-left: 0.5rem;\\n  font-weight: 500;\\n  color: #3469d3;\\n  cursor: pointer;\\n\\n  :hover {\\n    text-decoration: underline;\\n  }\\n\"]);\n\n  _templateObject20 = function _templateObject20() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject19() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  padding: 1rem 1.5rem;\\n\"]);\n\n  _templateObject19 = function _templateObject19() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject18() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  margin-top: 1rem;\\n\"]);\n\n  _templateObject18 = function _templateObject18() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject17() {\n  var data = _taggedTemplateLiteral([\"\\n  margin: 0;\\n  padding: 1rem 1rem;\\n  width: 100%;\\n  border: 1px solid #e7e7e7;\\n  border-radius: 4px;\\n\"]);\n\n  _templateObject17 = function _templateObject17() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject16() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 0.5rem 0;\\n\"]);\n\n  _templateObject16 = function _templateObject16() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject15() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  padding: 1.5rem;\\n  border-bottom: 1px solid #e7e7e7;\\n\"]);\n\n  _templateObject15 = function _templateObject15() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject14() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  right: 1rem;\\n  display: inline-flex;\\n  cursor: pointer;\\n\"]);\n\n  _templateObject14 = function _templateObject14() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject13() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 4rem;\\n  font-size: 1.25rem;\\n  font-weight: 600;\\n  color: #313131;\\n  border-bottom: 1px solid #e7e7e7;\\n\"]);\n\n  _templateObject13 = function _templateObject13() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject12() {\n  var data = _taggedTemplateLiteral([\"\\n  position: fixed;\\n  top: 50%;\\n  left: calc(50% - 20px);\\n  display: flex;\\n  flex-direction: column;\\n  margin: 0 20px;\\n  width: 80%;\\n  max-width: 568px;\\n  max-height: 100%;\\n  color: #000;\\n  background-color: #fff;\\n  border-radius: 12px;\\n  box-shadow: rgba(0, 0, 0, 0.28) 0 8px 28px;\\n  transform: translate(-50%, -50%);\\n  z-index: 15;\\n\"]);\n\n  _templateObject12 = function _templateObject12() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject11() {\n  var data = _taggedTemplateLiteral([\"\\n  position: fixed;\\n  inset: 0;\\n  z-index: 10;\\n  background: rgba(0, 0, 0, 0.5);\\n\"]);\n\n  _templateObject11 = function _templateObject11() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  width: 10px;\\n  height: 10px;\\n  opacity: 0;\\n  cursor: none;\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  padding: 12px;\\n  font-size: 1rem;\\n  user-select: none;\\n\\n  ::before {\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: 0;\\n    right: -3px;\\n    bottom: 0;\\n    left: -3px;\\n    border-radius: 22px;\\n  }\\n\\n  :hover::before {\\n    \", \";\\n  }\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  flex: 1 0 auto;\\n  display: flex;\\n  justify-content: flex-end;\\n  align-items: center;\\n  z-index: 1;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  flex: 1 0 200px;\\n  display: flex;\\n  align-items: center;\\n  z-index: 1;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  flex: 1 0 140px;\\n  display: flex;\\n  justify-content: flex-start;\\n  align-items: center;\\n  z-index: 1;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  max-width: 1440px;\\n  width: 100%;\\n  height: 100%;\\n  margin: 0 auto;\\n  padding: 0 80px;\\n  font-weight: 400;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  position: \", \";\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 80px;\\n  \", \"\\n  color: \", \";\\n  border-bottom: \", \";\\n  box-shadow: \", \";\\n  z-index: 100;\\n\\n  ::before {\\n    background-image: \", \";\\n    content: \\\"\\\";\\n    height: 140%;\\n    left: 50%;\\n    pointer-events: none;\\n    position: absolute;\\n    top: 0;\\n    max-width: 1440px;\\n    width: 100%;\\n    z-index: 0;\\n    transform: translateX(-50%);\\n    transition: 150ms opacity ease;\\n    opacity: \", \";\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  background-color: #fff;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styles/styled\";\nimport { css } from \"@emotion/core\";\nimport { Close } from \"styles/Icon\";\nimport { Button } from \"styles\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { LOGIN, REGISTER } from \"@api/User\";\nimport cookie from \"js-cookie\";\nvar menus = [{\n  label: \"Home\",\n  link: \"/\"\n}, {\n  label: \"Edit\",\n  link: \"/edit\",\n  authority: true\n}, {\n  label: \"Menu\",\n  link: \"#\",\n  authority: true\n}, {\n  label: \"Guide\",\n  link: \"/guide\",\n  authority: true\n}, {\n  label: \"Setting\",\n  link: \"/setting\",\n  authority: true\n}];\n\nvar Header = function Header(_ref) {\n  var authority = _ref.authority,\n      authenticated = _ref.authenticated;\n\n  var _useState = useState(true),\n      isTop = _useState[0],\n      setIsTop = _useState[1];\n\n  var _useState2 = useState(false),\n      loginModal = _useState2[0],\n      setLoginModal = _useState2[1];\n\n  var _useState3 = useState(false),\n      registerModal = _useState3[0],\n      setRegisterModal = _useState3[1];\n\n  var _useState4 = useState({\n    email: \"\",\n    password: \"\"\n  }),\n      loginInput = _useState4[0],\n      setLoginInput = _useState4[1];\n\n  var _useState5 = useState({\n    email: \"\",\n    name: \"\",\n    password: \"\"\n  }),\n      registerInput = _useState5[0],\n      setRegisterInput = _useState5[1];\n\n  var _useMutation = useMutation(LOGIN, {\n    onCompleted: function onCompleted(data) {\n      cookie.set(\"accessToken\", data.login.token);\n      localStorage.setItem(\"user\", JSON.stringify({\n        email: data.login.email,\n        name: data.login.name\n      }));\n      authenticated(true);\n      setLoginModal(false);\n    }\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      LoginMutation = _useMutation2[0];\n\n  var _useMutation3 = useMutation(REGISTER, {\n    onCompleted: function onCompleted() {\n      setLoginModal(true);\n      setRegisterModal(false);\n    }\n  }),\n      _useMutation4 = _slicedToArray(_useMutation3, 1),\n      RegisterMutation = _useMutation4[0];\n\n  useEffect(function () {\n    var token = cookie.get(\"accessToken\");\n\n    if (token) {\n      authenticated(true);\n    }\n  }, [authority]);\n\n  var handleLoginModal = function handleLoginModal() {\n    setLoginModal(false);\n  };\n\n  var handleRegisterModal = function handleRegisterModal() {\n    if (loginModal && !registerModal) {\n      setLoginModal(false);\n      setRegisterModal(true);\n    } else {\n      setRegisterModal(false);\n    }\n  };\n\n  var changeToRegisterModal = function changeToRegisterModal() {\n    setLoginModal(false);\n    setRegisterModal(true);\n  };\n\n  var changeToLoginModal = function changeToLoginModal() {\n    setRegisterModal(false);\n    setLoginModal(true);\n  };\n\n  var handleLoginInput = function handleLoginInput(event) {\n    setLoginInput(_objectSpread(_objectSpread({}, loginInput), {}, _defineProperty({}, event.target.name, event.target.value)));\n  };\n\n  var handleRegisterInput = function handleRegisterInput(event) {\n    setRegisterInput(_objectSpread(_objectSpread({}, registerInput), {}, _defineProperty({}, event.target.name, event.target.value)));\n  };\n\n  var login = function login() {\n    LoginMutation({\n      variables: {\n        loginInput: loginInput\n      }\n    });\n  };\n\n  var enterLogin = function enterLogin(event) {\n    if (event.key === \"Enter\") {\n      login();\n    }\n  };\n\n  var register = function register() {\n    RegisterMutation({\n      variables: {\n        registerInput: registerInput\n      }\n    });\n  };\n\n  useEffect(function () {\n    function isTopZero() {\n      if (window.scrollY === 0) {\n        setIsTop(true);\n      } else {\n        setIsTop(false);\n      }\n    }\n\n    window.addEventListener(\"scroll\", isTopZero);\n    window.addEventListener(\"load\", isTopZero);\n    return function () {\n      window.removeEventListener(\"scroll\", isTopZero);\n      window.removeEventListener(\"load\", isTopZero);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxs(HeaderContainer, {\n    isTop: isTop,\n    children: [/*#__PURE__*/_jsxs(HeaderContentsWrap, {\n      children: [/*#__PURE__*/_jsx(Logo, {}), /*#__PURE__*/_jsx(Center, {}), /*#__PURE__*/_jsx(Menus, {\n        children: menus.map(function (item, index) {\n          if (authority) {\n            return /*#__PURE__*/_jsx(Menu, {\n              isTop: isTop,\n              href: item.link,\n              children: /*#__PURE__*/_jsx(MenuName, {\n                children: item.label\n              })\n            }, index);\n          } else {\n            if (!item.authority) {\n              return /*#__PURE__*/_jsx(Menu, {\n                isTop: isTop,\n                href: item.link,\n                children: /*#__PURE__*/_jsx(MenuName, {\n                  children: item.label\n                })\n              }, index);\n            }\n          }\n        })\n      })]\n    }), !authority && /*#__PURE__*/_jsx(ModalButton, {\n      onClick: function onClick() {\n        return setLoginModal(true);\n      },\n      children: \"\\uBC84\\uD2BC\"\n    }), loginModal && /*#__PURE__*/_jsxs(LoginModalContainer, {\n      children: [/*#__PURE__*/_jsx(DarkLayer, {\n        onClick: handleLoginModal\n      }), /*#__PURE__*/_jsxs(LoginModal, {\n        children: [/*#__PURE__*/_jsxs(LoginModalHeader, {\n          children: [\"\\uB85C\\uADF8\\uC778\", /*#__PURE__*/_jsx(CloseButton, {\n            onClick: handleLoginModal,\n            children: /*#__PURE__*/_jsx(Close, {\n              width: 20,\n              height: 20,\n              color: \"#313131\"\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(LoginModalBody, {\n          children: [/*#__PURE__*/_jsx(LoginInputWrap, {\n            children: /*#__PURE__*/_jsx(LoginInput, {\n              name: \"email\",\n              placeholder: \"이메일\",\n              onChange: handleLoginInput\n            })\n          }), /*#__PURE__*/_jsx(LoginInputWrap, {\n            children: /*#__PURE__*/_jsx(LoginInput, {\n              name: \"password\",\n              type: \"password\",\n              placeholder: \"비밀번호\",\n              onChange: handleLoginInput,\n              onKeyPress: enterLogin\n            })\n          }), /*#__PURE__*/_jsx(LoginButtonWrap, {\n            children: /*#__PURE__*/_jsx(Button, {\n              width: \"100%\",\n              height: 48,\n              variant: \"danger\",\n              onClick: login,\n              children: \"\\uB85C\\uADF8\\uC778\"\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(LoginModalFooter, {\n          children: [\"\\uACC4\\uC815\\uC774 \\uC5C6\\uB2E4\\uBA74? \", /*#__PURE__*/_jsx(Register, {\n            onClick: changeToRegisterModal,\n            children: \"\\uD68C\\uC6D0\\uB4F1\\uB85D\"\n          })]\n        })]\n      })]\n    }), registerModal && /*#__PURE__*/_jsxs(LoginModalContainer, {\n      children: [/*#__PURE__*/_jsx(DarkLayer, {\n        onClick: handleRegisterModal\n      }), /*#__PURE__*/_jsxs(LoginModal, {\n        children: [/*#__PURE__*/_jsxs(LoginModalHeader, {\n          children: [\"\\uD68C\\uC6D0\\uB4F1\\uB85D\", /*#__PURE__*/_jsx(CloseButton, {\n            onClick: handleRegisterModal,\n            children: /*#__PURE__*/_jsx(Close, {\n              width: 20,\n              height: 20,\n              color: \"#313131\"\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(LoginModalBody, {\n          children: [/*#__PURE__*/_jsx(LoginInputWrap, {\n            children: /*#__PURE__*/_jsx(LoginInput, {\n              name: \"email\",\n              placeholder: \"이메일\",\n              onChange: handleRegisterInput\n            })\n          }), /*#__PURE__*/_jsx(LoginInputWrap, {\n            children: /*#__PURE__*/_jsx(LoginInput, {\n              name: \"name\",\n              placeholder: \"이름\",\n              onChange: handleRegisterInput\n            })\n          }), /*#__PURE__*/_jsx(LoginInputWrap, {\n            children: /*#__PURE__*/_jsx(LoginInput, {\n              name: \"password\",\n              type: \"password\",\n              placeholder: \"비밀번호\",\n              onChange: handleRegisterInput\n            })\n          }), /*#__PURE__*/_jsx(LoginButtonWrap, {\n            children: /*#__PURE__*/_jsx(Button, {\n              width: \"100%\",\n              height: 48,\n              variant: \"danger\",\n              onClick: register,\n              children: \"\\uD68C\\uC6D0\\uB4F1\\uB85D\"\n            })\n          })]\n        }), /*#__PURE__*/_jsx(LoginModalFooter, {\n          children: /*#__PURE__*/_jsx(Register, {\n            onClick: changeToLoginModal,\n            children: \"\\uB85C\\uADF8\\uC778\"\n          })\n        })]\n      })]\n    })]\n  });\n};\n\nexport default Header;\nvar WhiteBackground = css(_templateObject());\nvar HeaderContainer = styled.header(_templateObject2(), function (p) {\n  return p.isTop ? \"absolute\" : \"fixed\";\n}, function (p) {\n  return !p.isTop && WhiteBackground;\n}, function (p) {\n  return p.isTop ? \"#fff\" : \"#000\";\n}, function (p) {\n  return !p.isTop && \"1px solid #eee\";\n}, function (p) {\n  return !p.isTop && \"rgba(0, 0, 0, 0.08) 0px 1px 12px\";\n}, function (p) {\n  return p.isTop ? \"linear-gradient(to bottom, #000, rgba(0, 0, 0, 0))\" : \"linear-gradient(rgb(0, 0, 0), rgba(0, 0, 0, 0))\";\n}, function (p) {\n  return p.isTop ? \"0.4\" : \"0\";\n});\nvar HeaderContentsWrap = styled.div(_templateObject3());\nvar Logo = styled.div(_templateObject4());\nvar Center = styled.div(_templateObject5());\nvar Menus = styled.nav(_templateObject6());\nvar Menu = styled.a(_templateObject7(), function (p) {\n  return p.isTop ? \"background: rgba(255, 255, 255, 0.15)\" : \"background: rgb(247, 247, 247)\";\n});\nvar MenuName = styled.div(_templateObject8());\nvar ModalButton = styled.button(_templateObject9());\nvar LoginModalContainer = styled.div(_templateObject10());\nvar DarkLayer = styled.div(_templateObject11());\nvar LoginModal = styled.div(_templateObject12());\nvar LoginModalHeader = styled.div(_templateObject13());\nvar CloseButton = styled.div(_templateObject14());\nvar LoginModalBody = styled.div(_templateObject15());\nvar LoginInputWrap = styled.div(_templateObject16());\nvar LoginInput = styled.input(_templateObject17());\nvar LoginButtonWrap = styled.div(_templateObject18());\nvar LoginModalFooter = styled.div(_templateObject19());\nvar Register = styled.span(_templateObject20());","map":null,"metadata":{},"sourceType":"module"}